<html ng-app="myApp">

<head>
	<title>Crud</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
	<script src="book.js"></script>
</head>

<body ng-controller="booksCtrl">
	<div class="container">
		<div class="row">
			<h1>Books</h1>
			<div class="col-12">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>ID</th>
							<th>Title</th>
							<th>Author</th>
							<th>Description</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="book in books">
							<td>{{book.id}}</td>
							<td>{{book.title}}</td>
							<td>{{book.author}}</td>
							<td>{{book.description}}</td>
							<td>
								<button class="btn btn-primary" ng-click="edit(book)">Edit</button>
								<button class="btn btn-danger" ng-click="delete(book)">Delete</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="row">
			<h1>Create Book</h1>
			<div class="col-12">
				<form ng-submit="submit()">
					<div class="form-group">
						<label>Title:</label>
						<input type="text" class="form-control" ng-model="newBook.title" required>
					</div>
					<div class="form-group">
						<label>Author:</label>
						<input type="text" class="form-control" ng-model="newBook.author" required>
					</div>
					<div class="form-group">
						<label>Description:</label>
						<input type="text" class="form-control" ng-model="newBook.description" required>
					</div>
					<button type="submit" class="btn btn-primary">Create</button>
				</form>
			</div>
		</div>

		<div class="row" ng-show="isEditing">
			<h1>Edit Book</h1>
			<div class="col-12">
				<form ng-submit="update()">
					<div class="form-group">
						<label>Title:</label>
						<input type="text" class="form-control" ng-model="selectedBook.title" required>
					</div>
					<div class="form-group">
						<label>Author:</label>
						<input type="text" class="form-control" ng-model="selectedBook.author" required>
					</div>
					<div class="form-group">
						<label>Description:</label>
						<input type="text" class="form-control" ng-model="selectedBook.description" required>
					</div>
					<button type="submit" class="btn btn-primary">Update</button>
					<button class="btn btn-secondary" ng-click="cancel()">Cancel</button>
				</form>
			</div>
		</div>
	</div>
</body>

</html>